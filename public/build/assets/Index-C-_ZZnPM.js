import{r as p,j as e}from"./app-CM8DFcWd.js";import{U as k,L as N}from"./UserLayout-BZcUqQy0.js";import{c as n}from"./createLucideIcon-DyV7vuEI.js";import{E as g,S as C,C as U,L as j}from"./star-BUkDM-gP.js";import{X as _}from"./x-DD95JWqa.js";import{U as S}from"./users-CuCfeDaC.js";import{B as u}from"./book-open-D_mX8FNw.js";import"./proxy-Dq7AO77U.js";import"./index-DcMlDO5S.js";import"./chevron-left-nqU6qDTX.js";const $=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],A=n("clock",$);const M=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],y=n("folder-open",M);const z=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],G=n("maximize-2",z);const D=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],v=n("message-circle",D);const L=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],F=n("minimize-2",L);const O=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"9",y2:"21",key:"1ib60c"}],["line",{x1:"15",x2:"15",y1:"9",y2:"21",key:"1n26ft"}]],d=n("sheet",O),E=(s,c)=>{if(!s)return"";if(c==="guide")return s.replace(/\/edit.*$/,"/preview").replace(/\/view.*$/,"/preview");let t=s;return s.includes("/view")?t=s.replace(/\/view.*$/,"/edit"):s.includes("/preview")?t=s.replace(/\/preview.*$/,"/edit"):s.includes("/edit")||(t=`${s}/edit`),t};function X({auth:s,activeClaims:c,roles:t=[]}){const[h,o]=p.useState(!1),[r,x]=p.useState(null),[i,a]=p.useState(!1),l=t.includes("Admin")?"Admin":(t.includes("User"),"User"),w=m=>{switch(m){case"Admin":return"bg-purple-100 text-purple-800 border-purple-200";case"User":return"bg-amber-100 text-amber-800 border-amber-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},b=()=>{x(null),a(!1)};return e.jsxs(k,{user:s.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"My Products"}),children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-light text-gray-900",children:"My Products"}),e.jsx("p",{className:"text-gray-500 mt-1 font-light text-sm",children:"Manage and access your available tools and resources"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("span",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold capitalize transition-colors focus:outline-none ${w(l)}`,children:[l," Access"]})})]})})})}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("section",{className:"space-y-6",children:e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"My Claimed Plans"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Your active plan subscriptions with Google Drive resources"})]}),e.jsxs("span",{className:"inline-flex items-center rounded-full border border-green-200 bg-green-100 px-2.5 py-0.5 text-xs font-semibold text-green-800 transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[c.length," Active"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:c.map(m=>e.jsx(P,{claim:m,setUserGuideOpen:o,onFileSelect:x},m.id))})]})})})})}),r&&e.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center transition-all duration-300 ${i?"p-0":"p-4 sm:p-6"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:b}),e.jsxs("div",{className:`relative bg-white shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in-95 duration-200
                        ${i?"w-full h-full rounded-none":"w-full max-w-6xl h-[85vh] rounded-xl"}`,children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 bg-gray-50/50",children:[e.jsxs("div",{className:"flex items-center space-x-3 overflow-hidden",children:[r.type==="dashboard"?e.jsx(N,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}):e.jsx(d,{className:"w-5 h-5 text-[#0f9d58] flex-shrink-0"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate max-w-[200px] sm:max-w-md",children:r.name})]}),e.jsxs("div",{className:"flex items-center space-x-2 pl-4",children:[e.jsxs("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"hidden sm:inline-flex items-center px-3 py-1.5 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[e.jsx(g,{className:"w-3.5 h-3.5 mr-1.5"}),"New Tab"]}),e.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1 hidden sm:block"}),e.jsx("button",{onClick:()=>a(!i),className:"p-1.5 text-gray-500 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",title:i?"Exit Full Screen":"Full Screen",children:i?e.jsx(F,{className:"w-5 h-5"}):e.jsx(G,{className:"w-5 h-5"})}),e.jsx("button",{onClick:b,className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-full transition-colors",children:e.jsx(_,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"flex-1 bg-gray-100 relative",children:e.jsx("iframe",{src:E(r.link,r.type),title:r.name,className:"w-full h-full border-0",allow:"autoplay; clipboard-write; encrypted-media"})})]})]})]})}function P({claim:s,setUserGuideOpen:c,onFileSelect:t}){const h=s.planType==="pro",o=s.planType==="enterprise",r=s.planType==="free",x="https://docs.google.com/document/d/1IwUGpIbV9tf0gmAX5urAP2Jb8S2f55dJ-CivHKLzCeI/edit",i=a=>{switch(a){case"claimed":return"bg-blue-100 text-blue-800";case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"duplicating":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 bg-white flex flex-col h-full",children:[e.jsx("div",{className:"p-4 sm:p-6 pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"p-1.5 sm:p-2 rounded-lg bg-[#12b5e2] bg-opacity-10",children:[h&&e.jsx(C,{className:"w-5 h-5 text-[#12b5e2]"}),o&&e.jsx(S,{className:"w-5 h-5 text-[#12b5e2]"}),r&&e.jsx(U,{className:"w-5 h-5 text-[#12b5e2]"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 capitalize",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Claimed ",s.claimedAt]})]})]}),e.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${i(s.status)}`,children:s.status==="duplicating"?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(j,{className:"w-3 h-3 animate-spin"}),e.jsx("span",{children:"duplicating"})]}):e.jsx("span",{className:"capitalize",children:s.status})})]})}),e.jsxs("div",{className:"p-4 sm:p-6 pt-0 flex-1 flex flex-col",children:[r&&e.jsxs("div",{className:"space-y-4 flex-1 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(u,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-gray-700",children:"Free Plan Resources Available"})]}),e.jsxs("div",{className:"text-center py-6",children:[e.jsx(u,{className:"w-12 h-12 text-green-600 mx-auto mb-3"}),e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Documentation & Guide"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Access your free plan documentation and getting started guide"})]})]}),e.jsx("div",{className:"flex space-x-2 mt-4 pt-3 border-t border-gray-100",children:e.jsxs("button",{onClick:()=>t({name:"Getting Started Guide",link:x,type:"guide"}),className:"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-[#12b5e2] hover:bg-[#0ea5d3] text-white h-9 px-3 w-full",children:[e.jsx(u,{className:"w-3 h-3 mr-1"}),"Open Guide"]})})]}),o&&e.jsx("div",{className:"space-y-4 flex-1 flex flex-col justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(v,{className:"w-4 h-4 text-[#12b5e2]"}),e.jsx("span",{className:"text-gray-700",children:"Enterprise Inquiry Submitted"})]}),e.jsxs("div",{className:"text-center py-6",children:[e.jsx(v,{className:"w-12 h-12 text-[#12b5e2] mx-auto mb-3"}),e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Waiting for Admin Response"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"KeytagJournal Admin will contact you soon with custom enterprise solution details"})]}),e.jsxs("div",{className:"bg-[#12b5e2] bg-opacity-5 border border-[#12b5e2] border-opacity-20 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(A,{className:"w-4 h-4 text-[#12b5e2]"}),e.jsx("span",{className:"text-sm font-medium text-gray-800",children:"What's Next?"})]}),e.jsxs("ul",{className:"space-y-1 text-xs text-gray-700",children:[e.jsx("li",{children:"• Admin review of your requirements"}),e.jsx("li",{children:"• Custom solution preparation"}),e.jsx("li",{children:"• Direct contact within 24-48 hours"})]})]})]})}),h&&e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"mb-4",children:s.driveUrl?e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(y,{className:"w-4 h-4 text-[#12b5e2]"}),e.jsx("span",{className:"text-gray-700",children:"Google Drive Created"}),e.jsx("a",{href:s.driveUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground h-auto p-0 text-[#12b5e2] hover:text-[#0ea5d4]",children:e.jsx(g,{className:"w-3 h-3 ml-1"})})]}):e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(j,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{children:"Drive setup in progress..."})]})}),s.files&&s.files.length>0?e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 flex items-center",children:[e.jsx(d,{className:"w-4 h-4 mr-1.5 text-[#0f9d58]"}),"Files"]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.jsx(d,{className:"w-3 h-3"}),e.jsxs("span",{children:[s.files.length," items"]})]})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"grid grid-cols-4 gap-3",children:s.files.slice(0,8).map((a,f)=>{const l=a.type==="dashboard";return e.jsxs("div",{onClick:()=>t(a),title:a.name,className:"relative bg-white rounded-lg border border-gray-200 overflow-hidden cursor-pointer hover:ring-2 hover:ring-[#0f9d58] transition-all block group",children:[e.jsxs("div",{className:`aspect-square relative flex items-center justify-center rounded-t-lg transition-colors ${l?"bg-blue-50 group-hover:bg-blue-100":"bg-green-50 group-hover:bg-green-100"}`,children:[e.jsx("div",{className:`absolute inset-0 opacity-50 bg-gradient-to-br ${l?"from-blue-50 to-blue-200":"from-green-50 to-green-100"}`}),e.jsx("div",{className:"relative z-10",children:l?e.jsx(N,{className:"w-8 h-8 text-blue-600 drop-shadow-sm"}):e.jsx(d,{className:"w-8 h-8 text-[#0f9d58] drop-shadow-sm"})})]}),e.jsx("div",{className:"px-1 py-1 bg-white border-t border-gray-100",children:e.jsx("p",{className:"text-[10px] font-medium text-gray-700 text-center leading-tight truncate",children:a.name})})]},a.id||f)})}),s.files.length>8&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"w-full text-xs text-[#0f9d58] flex items-center justify-center py-2 rounded-lg bg-green-50",children:[e.jsx(d,{className:"w-4 h-4 mr-2"}),"+",s.files.length-8," more files"]})})]})})]}):s.driveUrl&&e.jsx("div",{className:"space-y-3 flex-1 flex flex-col justify-center",children:e.jsxs("div",{className:"text-center py-6",children:[e.jsx(y,{className:"w-12 h-12 text-[#12b5e2] mx-auto mb-3"}),e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Google Drive Ready"}),e.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Your ",s.planType," plan resources are ready to access"]})]})}),e.jsx("div",{className:"flex space-x-2 mt-4 pt-3 border-t border-gray-100",children:s.driveUrl&&e.jsxs("a",{href:s.driveUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 bg-[#12b5e2] hover:bg-[#0ea5d4] text-white flex-1 h-9 px-3",children:[e.jsx(g,{className:"w-3 h-3 mr-1"}),"Open Drive"]})})]})]})]})}export{X as default};
