import{r as v,c as k,j as e,L as j,a as L}from"./app-BlP0UdSN.js";import{m as a}from"./proxy-BCdkqXNE.js";import{A as i}from"./index-DncBZ1Ub.js";import{C as $}from"./chevron-left-DdVJazJU.js";import{c as d}from"./createLucideIcon-pOu2YagR.js";import{U as y}from"./user-DfFmW0LK.js";import{P as M}from"./package-D0vXFZtp.js";const _=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],P=d("chevron-right",_);const C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],A=d("circle-question-mark",C);const H=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],U=d("house",H);const I=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],D=d("layout-dashboard",I);const S=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],E=d("log-out",S);function G({children:o}){const[r,l]=v.useState(!1),{props:x,url:c}=k(),{auth:h,roles:m}=x,u=h.user,f=()=>l(!r);return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsx(R,{isCollapsed:r,onToggleCollapse:f,user:u,roles:m,currentUrl:c}),e.jsx("div",{className:`flex-1 flex flex-col transition-all duration-300 ${r?"ml-16":"ml-64"}`,children:e.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:o})})]})}function R({isCollapsed:o,onToggleCollapse:r,user:l,roles:x,currentUrl:c}){const[h,m]=v.useState(!1),u=t=>{t.preventDefault(),L.post(route("logout"))};x.includes("Admin")||x.includes("Premium");const w=[{href:"/dashboard",icon:D,label:"Dashboard",description:"Overview & stats"},{href:"/my-products",icon:M,label:"My Products",description:"Tools & resources"},{href:"/profile",icon:y,label:"Profile",description:"Personal info"}],N=[{href:"/",icon:U,label:"Home",description:"Main website"},{href:"/help-support",icon:A,label:"Help & Support",description:"Get assistance"}],g=o&&h,s=!o||g,b=t=>c?c.startsWith(t)&&t!=="/"?!0:c===t:!1;return e.jsxs(a.div,{className:`fixed left-0 top-0 h-screen bg-white border-r border-gray-200 flex flex-col z-50 transition-all duration-300 ${o?g?"w-64 shadow-xl":"w-16":"w-64"}`,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[e.jsx("div",{className:"p-4 border-b border-gray-200 h-16 flex items-center",children:e.jsx(i,{mode:"wait",children:s?e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"w-full",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-[#12b5e2] rounded-lg flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:"/assets/logo.png",alt:"KeyTag Journal Logo",className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-gray-900 text-sm",children:"KeyTag Journal"}),e.jsx("p",{className:"text-xs text-gray-500",children:"User Panel"})]})]}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx($,{className:"w-4 h-4 text-gray-500"})})]})},"expanded"):e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"w-full flex justify-center relative",children:[e.jsx("div",{className:"w-8 h-8 bg-[#12b5e2] rounded-lg flex items-center justify-center text-white font-bold text-xs",children:e.jsx("img",{src:"/assets/logo.png",alt:"KeyTag Journal Logo",className:"w-full h-full object-cover"})}),!h&&e.jsx("button",{onClick:r,className:"absolute -right-6 top-1 bg-white border border-gray-200 rounded-full p-1 shadow-sm",children:e.jsx(P,{className:"w-3 h-3 text-gray-500"})})]},"collapsed")})}),e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx(i,{mode:"wait",children:s?e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:l.avatar?e.jsx("img",{src:l.avatar,alt:"User",className:"w-full h-full object-cover"}):e.jsx(y,{className:"w-5 h-5 text-gray-500"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:l.name})})]},"user-expanded"):e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(y,{className:"w-4 h-4 text-gray-500"})})},"user-collapsed")})}),e.jsxs("div",{className:"flex-1 overflow-y-auto py-4 custom-scrollbar",children:[e.jsx("div",{className:"space-y-1 px-3",children:w.map(t=>{const n=b(t.href),p=t.icon;return e.jsxs(j,{href:t.href,className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg border transition-all duration-200 mb-2 ${n?"bg-blue-50 border-blue-200 text-[#12b5e2]":"border-transparent text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(p,{className:`flex-shrink-0 h-5 w-5 transition-colors ${n?"text-[#12b5e2]":"text-gray-400 group-hover:text-gray-600"} ${s?"mr-3":""}`}),e.jsx(i,{children:s&&e.jsxs(a.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"flex-1 min-w-0 overflow-hidden",children:[e.jsx("p",{className:"font-medium truncate",children:t.label}),e.jsx("p",{className:"text-[10px] opacity-75 truncate",children:t.description})]})})]},t.href)})}),e.jsxs("div",{className:"mt-6 px-3",children:[e.jsx(i,{children:s&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"mb-2 px-2",children:e.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Quick Actions"})})}),e.jsx("div",{className:"space-y-1",children:N.map(t=>{const n=b(t.href),p=t.icon;return e.jsxs(j,{href:t.href,className:`group flex items-center px-3 py-2 text-sm rounded-lg border border-transparent transition-colors ${n?"bg-blue-50 text-[#12b5e2]":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(p,{className:`flex-shrink-0 h-4 w-4 ${s?"mr-3":""} ${n?"text-[#12b5e2]":"text-gray-400"}`}),e.jsx(i,{children:s&&e.jsx(a.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"flex-1 min-w-0 overflow-hidden",children:e.jsx("p",{className:"font-medium truncate",children:t.label})})})]},t.href)})})]})]}),e.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:e.jsxs("button",{onClick:u,className:`flex items-center w-full text-red-600 hover:text-red-700 hover:bg-red-100 rounded-md p-2 transition-colors ${s?"justify-start":"justify-center"}`,children:[e.jsx(E,{className:`h-4 w-4 ${s?"mr-3":""}`}),e.jsx(i,{children:s&&e.jsx(a.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"text-sm font-medium whitespace-nowrap",children:"Logout"})})]})})]})}export{A as C,D as L,G as U};
